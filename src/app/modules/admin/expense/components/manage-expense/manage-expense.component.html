<section
    class="m-5 sm:m-10 p-4 sm:py-6 w-full sm:px-8 bg-white rounded-lg flex flex-col gap-4 overflow-x-hidden"
>
    <div class="flex items-center justify-between">
        <div class="flex flex-col gap-2 justify-items-start">
            <!-- Breadcrumb -->
            <div class="sm:flex hidden gap-2 items-center">
                <mat-icon
                    class="text-black hover:text-myAccent transition-all w-[22px] h-[22px] cursor-pointer"
                    svgIcon="heroicons_outline:home"
                    (click)="navigateToHome()"
                >
                </mat-icon>
                <p>Expense</p>
                <span>/</span>

                <p class="font-semibold text-myAccent">Manage Expense</p>
            </div>

            <!-- Title -->
            <h3 class="font-bold text-[1.3rem]">Manage Expense</h3>
        </div>

        <!-- Export SVGs -->
        <div class="flex items-center gap-4">
            <svg
                matTooltip="Export as PDF"
                version="1.0"
                xmlns="http://www.w3.org/2000/svg"
                width="35px"
                height="35px"
                viewBox="0 0 100.000000 100.000000"
                preserveAspectRatio="xMidYMid meet"
                class="fill-black hover:fill-myAccent transition cursor-pointer"
            >
                <g
                    transform="translate(0.000000,100.000000) scale(0.100000,-0.100000)"
                    stroke="none"
                >
                    <path
                        d="M140 500 l0 -460 360 0 360 0 0 328 -1 327 -138 133 -139 132 -221 0
-221 0 0 -460z m420 290 l0 -130 130 0 130 0 0 -290 0 -290 -320 0 -320 0 0
420 0 420 190 0 190 0 0 -130z m185 -39 l49 -51 -97 0 -97 0 0 91 0 91 48 -40
c26 -22 69 -63 97 -91z"
                    />
                    <path
                        d="M438 575 c-9 -20 -8 -33 5 -65 17 -44 13 -69 -22 -138 -12 -24 -34
-48 -54 -58 -67 -34 -87 -73 -48 -94 29 -15 29 -14 81 39 37 38 62 54 105 66
51 15 59 15 90 1 42 -20 69 -20 89 0 38 38 7 67 -65 62 -50 -3 -53 -2 -86 39
-33 40 -34 43 -22 82 9 31 9 47 1 66 -16 34 -58 34 -74 0z m81 -199 c-2 -2
-16 -7 -31 -11 -27 -7 -27 -6 -15 24 11 31 11 31 31 11 11 -11 18 -21 15 -24z"
                    />
                </g>
            </svg>

            <svg
                matTooltip="Export as Excel"
                version="1.0"
                xmlns="http://www.w3.org/2000/svg"
                width="35px"
                height="35px"
                viewBox="0 0 100.000000 100.000000"
                preserveAspectRatio="xMidYMid meet"
                class="fill-black hover:fill-myAccent transition cursor-pointer"
            >
                <g
                    transform="translate(0.000000,100.000000) scale(0.100000,-0.100000)"
                    stroke="none"
                >
                    <path
                        d="M285 945 c-148 -30 -273 -54 -277 -54 -5 -1 -8 -176 -8 -390 l0 -389
23 -5 c92 -23 560 -106 568 -102 5 4 9 31 9 61 l0 54 178 0 c125 0 182 4 190
12 17 17 17 719 0 736 -8 8 -65 12 -190 12 l-177 0 -3 58 c-3 49 -6 57 -23 59
-11 0 -141 -23 -290 -52z m275 -444 l0 -458 -137 27 c-76 15 -193 38 -260 50
l-123 22 0 358 0 358 123 22 c100 19 385 75 395 79 1 1 2 -205 2 -458z m380
-1 l0 -340 -170 0 -170 0 0 50 0 50 40 0 c33 0 40 3 40 20 0 17 -7 20 -40 20
l-40 0 0 60 0 60 40 0 c33 0 40 3 40 20 0 17 -7 20 -40 20 l-40 0 0 50 0 50
40 0 c33 0 40 3 40 20 0 17 -7 20 -40 20 l-40 0 0 50 0 50 40 0 c33 0 40 3 40
20 0 17 -7 20 -40 20 l-40 0 0 50 0 50 170 0 170 0 0 -340z"
                    />
                    <path
                        d="M140 684 c0 -4 23 -47 51 -96 l51 -89 -56 -88 c-31 -49 -56 -92 -56
-95 0 -4 21 -6 48 -4 l47 3 36 69 37 70 36 -72 36 -72 51 0 51 0 -23 38 c-12
20 -38 61 -56 90 -18 29 -33 57 -33 62 0 5 22 46 50 92 27 46 50 86 50 91 0 4
-19 7 -43 7 l-43 0 -36 -70 -37 -70 -33 67 -33 68 -47 3 c-27 2 -48 0 -48 -4z"
                    />
                    <path
                        d="M720 720 c0 -18 7 -20 80 -20 73 0 80 2 80 20 0 18 -7 20 -80 20 -73
0 -80 -2 -80 -20z"
                    />
                    <path
                        d="M720 580 c0 -18 7 -20 80 -20 73 0 80 2 80 20 0 18 -7 20 -80 20 -73
0 -80 -2 -80 -20z"
                    />
                    <path
                        d="M720 440 c0 -18 7 -20 80 -20 73 0 80 2 80 20 0 18 -7 20 -80 20 -73
0 -80 -2 -80 -20z"
                    />
                    <path
                        d="M720 280 c0 -18 7 -20 80 -20 73 0 80 2 80 20 0 18 -7 20 -80 20 -73
0 -80 -2 -80 -20z"
                    />
                </g>
            </svg>
        </div>
    </div>

    <!-- Content -->
    <div
        class="flex w-full flex-col md:flex-row gap-4 justify-center items-center"
    >
        <!-- Search -->
        <div
            class="border border-myAccent w-full flex items-center justify-between rounded pr-2"
        >
            <input
                type="search"
                name="account-search"
                id="account-search"
                placeholder="Search "
                class="px-4 py-2 w-full rounded caret-myAccent"
            />

            <mat-icon
                class="text-myAccent w-[24px] h-[24px] cursor-pointer search-icon"
                svgIcon="heroicons_outline:search"
            ></mat-icon>
        </div>

        <mat-form-field appearance="fill" class="mt-0 w-full">
            <mat-date-range-input
                [rangePicker]="picker"
                placeholder="Select Date"
            >
                <input matStartDate placeholder="Start date" />
                <input matEndDate placeholder="End date" />
            </mat-date-range-input>

            <mat-datepicker-toggle
                class="text-myAccent w-7"
                matIconSuffix
                [for]="picker"
            ></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>

        <button
            class="px-10 border text-textColor hover:border-darkAccent border-accentHover shadow-[inset_5px_4px_19px_5px_rgba(0,0,0,0.25)] py-2 w-fit whitespace-nowrap rounded hover:bg-accentHover bg-darkAccent justify-between transition-all flex items-center gap-2"
            (click)="addExpense()"
        >
            <p class="font-semibold">Add Expense</p>
            <!-- <mat-icon
                class="text-white w-[24px] h-[24px] px-0"
                svgIcon="heroicons_outline:plus"
            ></mat-icon> -->
        </button>
    </div>

    <!-- Angular Table -->
    <div class="whitespace-nowrap w-full overflow-x-scroll shadow rounded-lg">
        <table
            mat-table
            [dataSource]="dataSource"
            class="mat-elevation-z8 w-full"
        >
            <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef>SN</th>
                <td mat-cell *matCellDef="let element">
                    {{ element.position }}
                </td>
            </ng-container>

            <ng-container matColumnDef="categoryName">
                <th mat-header-cell *matHeaderCellDef>Category Name</th>
                <td mat-cell *matCellDef="let element" class="">
                    <div class="flex items-center gap-2">
                        <img
                            class="w-[24px]"
                            [src]="element.imgUrl"
                            [alt]="element.categoryName"
                        />
                        <span>{{ element.categoryName }}</span>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Description</th>
                <td mat-cell *matCellDef="let element">
                    {{ element.description }}
                </td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>Created Date</th>
                <td mat-cell *matCellDef="let element">
                    {{ element.date }}
                </td>
            </ng-container>

            <ng-container matColumnDef="taxAmount">
                <th mat-header-cell *matHeaderCellDef>Tax Amount</th>
                <td mat-cell *matCellDef="let element">
                    {{ element.taxAmount }}
                </td>
            </ng-container>

            <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef>Amount</th>
                <td mat-cell *matCellDef="let element">
                    {{ element.amount }}
                </td>
            </ng-container>

            <ng-container matColumnDef="receipt">
                <th mat-header-cell *matHeaderCellDef>Receipt</th>
                <td mat-cell *matCellDef="let element">
                    <button
                        (click)="openReceiptDialog()"
                        class="shadow-[inset_4px_4px_13px_rgba(0,0,0,0.25)] px-3 py-1 bg-darkAccent rounded transition hover:bg-accentHover text-textColor"
                    >
                        View
                    </button>
                </td>
            </ng-container>

            <ng-container matColumnDef="details">
                <th mat-header-cell *matHeaderCellDef>Details</th>
                <td mat-cell *matCellDef="let element">
                    <mat-icon
                        svgIcon="heroicons_outline:eye"
                        (click)="openPaymentDialog()"
                        class="text-myAccent ml-5 cursor-pointer"
                    ></mat-icon>
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let element">
                    <!-- <mat-icon
                        svgIcon="mat_outline:edit"
                        matTooltip="Edit Income"
                        (click)="editIncome()"
                        class="text-green-600 cursor-pointer ml-5"
                    ></mat-icon> -->

                    <img
                        src="assets/icons/edit.svg"
                        matTooltip="Edit Expense"
                        alt="Edit"
                        (click)="editExpense()"
                        class="w-[24px] h-[24px] cursor-pointer ml-5"
                    />
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
    </div>
</section>
